<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RE:PLAY - Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4338CA;
            --primary-light: #EEF2FF;
            --primary-mid: #C7D2FE;
            --accent: #10B981;
            --accent-light: #D1FAE5;
            --accent-dark: #065F46;
            --warning: #F59E0B;
            --warning-light: #FEF3C7;
            --warning-dark: #92400E;
            --text-main: #1E1B4B;
            --text-sub: #6B7280;
            --bg: #F5F3FF;
            --white: #FFFFFF;
            --border: #E5E7EB;
            --gray-50: #F9FAFB;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Noto Sans KR', -apple-system, sans-serif;
            background: linear-gradient(135deg, #1E1B4B 0%, #312E81 50%, #3730A3 100%);
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; padding: 20px;
        }

        /* ìŠ¤ë§ˆíŠ¸í° í”„ë ˆì„ */
        .phone-frame {
            width: 375px; height: 812px;
            background-color: var(--bg);
            border-radius: 44px;
            box-shadow: 0 0 0 3px #1E1B4B, 0 0 0 6px #555, 0 50px 100px -20px rgba(0,0,0,0.5);
            position: relative; overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* ìƒë‹¨ ë…¸ì¹˜ */
        .phone-frame::before {
            content: '';
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 150px; height: 28px;
            background: #111; border-radius: 0 0 20px 20px; z-index: 100;
        }

        /* í—¤ë” */
        .header {
            background: var(--white);
            padding: 44px 20px 14px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border);
            position: relative; z-index: 10;
        }
        .logo { font-weight: 900; font-size: 1.25rem; color: var(--primary); letter-spacing: -1px; }
        .header-icons { display: flex; gap: 12px; font-size: 1.1rem; }

        /* ì½˜í…ì¸  */
        .content {
            flex: 1; overflow-y: auto; padding: 20px;
            -ms-overflow-style: none; scrollbar-width: none;
        }
        .content::-webkit-scrollbar { display: none; }

        /* í™”ë©´ ì „í™˜ */
        .screen { display: none; animation: fadeIn 0.25s ease; }
        .screen.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ==================== í™ˆ í™”ë©´ ==================== */
        .greeting { font-size: 1.3rem; font-weight: 800; color: var(--text-main); margin-bottom: 4px; line-height: 1.4; }
        .greeting-sub { font-size: 0.85rem; color: var(--text-sub); margin-bottom: 20px; }

        .card {
            background: var(--white); border-radius: 16px;
            padding: 18px; margin-bottom: 14px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.06);
        }
        .card-label { font-size: 0.78rem; font-weight: 600; color: var(--text-sub); margin-bottom: 8px; }

        .level-row { display: flex; justify-content: space-between; align-items: flex-end; }
        .level-num { font-size: 2rem; font-weight: 900; color: var(--primary); line-height: 1; }
        .level-sub { font-size: 0.8rem; color: var(--text-sub); }

        .progress-bar { width: 100%; height: 6px; background: #E5E7EB; border-radius: 3px; margin-top: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), #818CF8); border-radius: 3px; transition: width 0.6s ease; }

        .shortcut-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 6px; }
        .shortcut-card {
            background: var(--white); border-radius: 14px; padding: 18px 14px;
            text-align: center; cursor: pointer; box-shadow: 0 1px 3px rgba(0,0,0,0.06);
            transition: transform 0.15s, box-shadow 0.15s;
            border: 1.5px solid transparent;
        }
        .shortcut-card:active { transform: scale(0.97); }
        .shortcut-card:hover { border-color: var(--primary-mid); box-shadow: 0 4px 12px rgba(67,56,202,0.1); }
        .shortcut-icon { font-size: 1.8rem; margin-bottom: 8px; }
        .shortcut-label { font-size: 0.85rem; font-weight: 700; color: var(--text-main); }
        .shortcut-desc { font-size: 0.72rem; color: var(--text-sub); margin-top: 2px; }

        .section-title { font-weight: 800; font-size: 0.95rem; color: var(--text-main); margin: 20px 0 10px; }

        /* ==================== ì˜¨ë³´ë”© (ì¡°ê±´ ì…ë ¥) ==================== */
        .onboard-title { font-size: 1.15rem; font-weight: 800; color: var(--text-main); margin-bottom: 4px; }
        .onboard-sub { font-size: 0.82rem; color: var(--text-sub); margin-bottom: 20px; line-height: 1.5; }

        .question-block { margin-bottom: 20px; }
        .q-label { font-size: 0.88rem; font-weight: 700; color: var(--text-main); margin-bottom: 10px; }

        .option-group { display: flex; flex-wrap: wrap; gap: 8px; }
        .option-btn {
            padding: 8px 16px; border-radius: 20px; border: 1.5px solid var(--border);
            background: var(--white); font-size: 0.82rem; font-weight: 500;
            color: var(--text-main); cursor: pointer; transition: all 0.15s;
            font-family: inherit;
        }
        .option-btn:hover { border-color: var(--primary-mid); }
        .option-btn.selected {
            background: var(--primary); color: white; border-color: var(--primary);
        }

        .slider-row { display: flex; align-items: center; gap: 12px; }
        .slider-row input[type=range] { flex: 1; accent-color: var(--primary); }
        .slider-val { font-size: 0.85rem; font-weight: 700; color: var(--primary); min-width: 40px; text-align: center; }

        .btn-primary {
            width: 100%; padding: 14px; border: none; border-radius: 12px;
            background: var(--primary); color: white; font-size: 0.95rem;
            font-weight: 700; cursor: pointer; margin-top: 10px;
            font-family: inherit; transition: opacity 0.15s;
        }
        .btn-primary:active { opacity: 0.85; }
        .btn-secondary {
            width: 100%; padding: 14px; border: 1.5px solid var(--border); border-radius: 12px;
            background: var(--white); color: var(--text-main); font-size: 0.95rem;
            font-weight: 600; cursor: pointer; margin-top: 8px; font-family: inherit;
        }

        /* ==================== RE:PLAY ì—°ìŠµ - íŒŒíŠ¸ë„ˆ ì„ íƒ ==================== */
        .partner-card {
            background: var(--white); border-radius: 16px; padding: 18px;
            margin-bottom: 12px; cursor: pointer; border: 2px solid transparent;
            transition: all 0.15s; display: flex; gap: 14px; align-items: center;
        }
        .partner-card:hover { border-color: var(--primary-mid); }
        .partner-card.selected { border-color: var(--primary); background: var(--primary-light); }
        .partner-avatar {
            width: 52px; height: 52px; border-radius: 14px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.6rem; flex-shrink: 0;
        }
        .partner-info { flex: 1; }
        .partner-name { font-size: 0.95rem; font-weight: 700; color: var(--text-main); }
        .partner-desc { font-size: 0.78rem; color: var(--text-sub); margin-top: 2px; line-height: 1.4; }
        .partner-tags { display: flex; gap: 6px; margin-top: 6px; }
        .partner-tag { font-size: 0.7rem; padding: 2px 8px; border-radius: 10px; background: var(--gray-50); color: var(--text-sub); font-weight: 500; }

        /* ==================== RE:PLAY - í™”ìƒ ì—°ìŠµ í™”ë©´ ==================== */
        .video-container {
            position: relative; width: 100%; aspect-ratio: 4/3;
            background: #1a1a2e; border-radius: 16px; overflow: hidden; margin-bottom: 16px;
        }
        .video-main {
            width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 8px;
        }
        .video-avatar {
            width: 80px; height: 80px; border-radius: 50%;
            background: linear-gradient(135deg, #818CF8, #4338CA);
            display: flex; align-items: center; justify-content: center;
            font-size: 2.2rem; animation: pulse-ring 2s infinite;
        }
        @keyframes pulse-ring {
            0%, 100% { box-shadow: 0 0 0 0 rgba(129,140,248,0.4); }
            50% { box-shadow: 0 0 0 12px rgba(129,140,248,0); }
        }
        .video-label { color: rgba(255,255,255,0.8); font-size: 0.82rem; font-weight: 500; }
        .video-status { color: var(--accent); font-size: 0.75rem; font-weight: 600; display: flex; align-items: center; gap: 4px; }
        .video-status::before { content: ''; width: 6px; height: 6px; border-radius: 50%; background: var(--accent); animation: blink 1.5s infinite; }
        @keyframes blink { 0%,100%{ opacity:1; } 50%{ opacity:0.3; } }

        /* ë‚´ ì¹´ë©”ë¼ (PIP) â†’ ìƒëŒ€ë°© PIP */
        .partner-pip {
            position: absolute; top: 10px; right: 10px;
            width: 70px; height: 70px; 
            background: linear-gradient(135deg, #818CF8, #4338CA);
            border-radius: 50%; border: 3px solid rgba(255,255,255,0.3);
            display: flex; align-items: center; justify-content: center;
            flex-direction: column; gap: 2px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            animation: pulse-ring 2s infinite;
        }

        /* í™”ìƒ í•˜ë‹¨ ì»¨íŠ¸ë¡¤ */
        .video-controls {
            display: flex; justify-content: center; gap: 16px; margin-bottom: 16px;
        }
        .ctrl-btn {
            width: 44px; height: 44px; border-radius: 50%; border: none;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; cursor: pointer; transition: transform 0.15s;
        }
        .ctrl-btn:active { transform: scale(0.9); }
        .ctrl-btn.on { background: var(--white); color: var(--text-main); }
        .ctrl-btn.off { background: #EF4444; color: white; }
        .ctrl-btn.end { background: #EF4444; color: white; width: 56px; border-radius: 28px; font-size: 0.8rem; font-weight: 700; }

        /* ì‹¤ì‹œê°„ í”¼ë“œë°± íŒ¨ë„ */
        .live-feedback {
            background: var(--white); border-radius: 14px; padding: 14px;
            border-left: 3px solid var(--warning);
        }
        .live-feedback-title { font-size: 0.78rem; font-weight: 700; color: var(--warning-dark); margin-bottom: 6px; display: flex; align-items: center; gap: 4px; }
        .feedback-item {
            font-size: 0.82rem; color: var(--text-main); line-height: 1.5;
            padding: 6px 0; border-bottom: 1px solid var(--border);
        }
        .feedback-item:last-child { border-bottom: none; }
        .fb-good { color: var(--accent-dark); }
        .fb-tip { color: var(--primary); }

        .impression-box {
            background: var(--primary-light); border-radius: 12px; padding: 14px; margin-top: 12px;
        }
        .impression-title { font-size: 0.78rem; font-weight: 700; color: var(--primary); margin-bottom: 6px; }
        .impression-text { font-size: 0.82rem; color: var(--text-main); line-height: 1.5; }

        /* ==================== íƒœìŠ¤í¬ ë§¤ì¹­ ==================== */
        .condition-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 16px; }
        .tag {
            padding: 5px 12px; background: var(--primary-light); color: var(--primary);
            border-radius: 20px; font-size: 0.75rem; font-weight: 600;
        }

        .job-card {
            background: var(--white); border-radius: 14px; padding: 16px;
            margin-bottom: 12px; border: 1.5px solid var(--border);
            transition: transform 0.15s;
        }
        .job-card:active { transform: scale(0.98); }
        .match-badge {
            display: inline-block; padding: 3px 10px; border-radius: 8px;
            font-size: 0.72rem; font-weight: 800; margin-bottom: 8px;
        }
        .match-high { background: var(--accent-light); color: var(--accent-dark); }
        .match-mid { background: #DBEAFE; color: #1E40AF; }

        .job-name { font-size: 0.95rem; font-weight: 700; color: var(--text-main); margin-bottom: 3px; }
        .job-company { font-size: 0.78rem; color: var(--text-sub); margin-bottom: 10px; }

        .task-decompose {
            background: var(--gray-50); border-radius: 10px; padding: 12px; font-size: 0.8rem; line-height: 1.6;
        }
        .task-decompose-title { font-size: 0.72rem; font-weight: 700; color: var(--text-sub); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
        .task-item { display: flex; align-items: flex-start; gap: 6px; margin-bottom: 4px; }
        .task-check { color: var(--accent); flex-shrink: 0; font-size: 0.85rem; }
        .task-warn { color: var(--warning); flex-shrink: 0; font-size: 0.85rem; }

        .original-job {
            font-size: 0.75rem; color: var(--text-sub); margin-top: 10px; padding-top: 10px;
            border-top: 1px dashed var(--border); display: flex; align-items: center; gap: 4px;
        }

        /* ==================== í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ==================== */
        .nav-bar {
            background: var(--white); padding: 10px 20px 28px;
            display: flex; justify-content: space-around;
            border-top: 1px solid var(--border);
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 3px;
            color: #9CA3AF; font-size: 0.68rem; cursor: pointer;
            transition: color 0.15s; padding: 4px 8px;
            font-weight: 500;
        }
        .nav-item.active { color: var(--primary); font-weight: 700; }
        .nav-icon { font-size: 1.35rem; }

        /* ìœ í‹¸ */
        .mt-12 { margin-top: 12px; }
        .text-center { text-align: center; }
    
        /* ========== R-Score (ê¸°ì¡´ 'ë‚´ ì¡°ê±´' íƒ­) ========== */
        .rscore-brand{
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--text-main);
            margin-bottom: 12px;
        }
        .rscore-title{
            font-size: 1.15rem;
            font-weight: 800;
            color: var(--text-main);
            margin-bottom: 14px;
        }
        .rscore-main-card{
            border: 2px solid var(--primary-mid);
            box-shadow: none;
        }
        .rscore-main-label{
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--primary);
            text-align: center;
            margin-bottom: 10px;
        }
        .rscore-main-score{
            font-size: 2.1rem;
            font-weight: 900;
            color: var(--text-main);
            text-align: center;
            letter-spacing: -0.5px;
        }
        .rscore-main-score-num{ color: var(--text-main); }
        .rscore-main-sub{
            font-size: 0.78rem;
            color: var(--text-sub);
            text-align: center;
            margin-top: 8px;
        }
        .rscore-metrics{
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        .rscore-metric-card{
            padding: 14px 12px;
            margin-bottom: 0;
            text-align: center;
        }
        .rscore-metric-label{
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--text-sub);
            margin-bottom: 8px;
        }
        .rscore-metric-value{
            font-size: 1.35rem;
            font-weight: 900;
            letter-spacing: -0.2px;
        }
        .rscore-metric-green{ color: var(--accent); }
        .rscore-metric-blue{ color: var(--primary); }

        .rscore-chart-title{
            font-size: 0.95rem;
            font-weight: 800;
            color: var(--text-main);
            margin: 16px 0 10px;
        }
        .rscore-chart-card{
            padding: 14px 14px 18px;
            margin-bottom: 0;
        }
        .rscore-bars{
            display: flex;
            align-items: flex-end;
            gap: 10px;
            height: 160px;
            padding: 8px 6px 0;
            border-radius: 14px;
            background: linear-gradient(180deg, rgba(67,56,202,0.05), rgba(67,56,202,0.00));
        }
        .rscore-bar{
            flex: 1;
            min-width: 0;
            border-radius: 10px 10px 6px 6px;
            background: #E5E7EB;
        }
        .rscore-bar:last-child{
            background: #3B82F6;
        }
        .rscore-hidden{ display:none; }
</style>
</head>
<body>

<div class="phone-frame">
    <div class="header">
        <div class="logo">RE:PLAY</div>
        <div class="header-icons">
            <span style="cursor:pointer">ğŸ””</span>
        </div>
    </div>

    <div class="content">

        <!-- ========== í™ˆ ========== -->
        <div id="screen-home" class="screen active">
            <div class="greeting">ì•ˆë…•í•˜ì„¸ìš”, ì˜ì†”ë‹˜!</div>
            <div class="greeting-sub">ì˜¤ëŠ˜ë„ í•œ ê±¸ìŒ ë” ê°€ê¹Œì›Œì¡Œì–´ìš” ğŸ’ª</div>

            <div class="card">
                <div class="card-label">ë‚˜ì˜ ì‚¬íšŒ ì ì‘ ë ˆë²¨</div>
                <div class="level-row">
                    <div class="level-num">Lv.3</div>
                    <div class="level-sub">ë‹¤ìŒ ë ˆë²¨ê¹Œì§€ 25%</div>
                </div>
                <div class="progress-bar"><div class="progress-fill" style="width:75%"></div></div>
            </div>

            <div class="section-title">ë°”ë¡œê°€ê¸°</div>
            <div class="shortcut-grid">
                <div class="shortcut-card" onclick="changeTab('partner-select')">
                    <div class="shortcut-icon">ğŸ¥</div>
                    <div class="shortcut-label">í™”ìƒ ì—°ìŠµ</div>
                    <div class="shortcut-desc">ë©´ì ‘Â·ìŠ¤ëª°í† í¬ ì—°ìŠµ</div>
                </div>
                <div class="shortcut-card" onclick="goToTab('jobs')">
                    <div class="shortcut-icon">ğŸ§©</div>
                    <div class="shortcut-label">íƒœìŠ¤í¬ ë§¤ì¹­</div>
                    <div class="shortcut-desc">ë‚˜ì—ê²Œ ë§ëŠ” ì—…ë¬´</div>
                </div>
            </div>

            <div class="section-title">ìµœê·¼ ì—°ìŠµ ê¸°ë¡</div>
            <div class="card" style="display:flex; gap:12px; align-items:center;">
                <div style="font-size:1.5rem;">ğŸ’¬</div>
                <div style="flex:1;">
                    <div style="font-size:0.85rem; font-weight:600;">ëª¨ì˜ ë©´ì ‘ â€“ ìê¸°ì†Œê°œ</div>
                    <div style="font-size:0.75rem; color:var(--text-sub);">ì–´ì œ Â· AI ë©´ì ‘ê´€</div>
                </div>
                <div style="font-size:0.8rem; font-weight:700; color:var(--accent);">B+</div>
            </div>
        </div>

        <!-- ========== ìˆ˜í–‰ ì¡°ê±´ ì…ë ¥ (ì˜¨ë³´ë”©) ========== -->
        <div id="screen-rscore" class="screen">
            <div class="rscore-brand">R-Score</div>
            <div class="rscore-title">ë‚˜ì˜ ì§ë¬´ í¬íŠ¸í´ë¦¬ì˜¤</div>

            <div class="card rscore-main-card">
                <div class="rscore-main-label">AI ì§ë¬´ ì—­ëŸ‰ ì ìˆ˜</div>
                <div class="rscore-main-score">R-Score <span class="rscore-main-score-num">82.5</span></div>
                <div class="rscore-main-sub">3ê°œì›”ê°„ 14,892ê±´ì˜ íƒœìŠ¤í¬ë¥¼ 99.2% ì •í™•ë„ë¡œ ìˆ˜í–‰</div>
            </div>

            <div class="rscore-metrics">
                <div class="card rscore-metric-card">
                    <div class="rscore-metric-label">ì—…ë¬´ ì™„ìˆ˜ìœ¨</div>
                    <div class="rscore-metric-value rscore-metric-green">100%</div>
                </div>
                <div class="card rscore-metric-card">
                    <div class="rscore-metric-label">ë§ˆê° ì¤€ìˆ˜ìœ¨</div>
                    <div class="rscore-metric-value rscore-metric-green">100%</div>
                </div>
                <div class="card rscore-metric-card">
                    <div class="rscore-metric-label">ê²°ê³¼ë¬¼ ì •í™•ë„</div>
                    <div class="rscore-metric-value rscore-metric-blue">99.2%</div>
                </div>
                <div class="card rscore-metric-card">
                    <div class="rscore-metric-label">ì›”ê°„ ì§€ì†ì„±</div>
                    <div class="rscore-metric-value rscore-metric-blue">95.0%</div>
                </div>
            </div>

            <div class="rscore-chart-title">R-Score ì„±ì¥ ê·¸ë˜í”„</div>
            <div class="card rscore-chart-card">
                <div class="rscore-bars" aria-label="R-Score ì„±ì¥ ê·¸ë˜í”„(í”Œë ˆì´ìŠ¤í™€ë”)">
                    <div class="rscore-bar" style="height: 34%"></div>
                    <div class="rscore-bar" style="height: 46%"></div>
                    <div class="rscore-bar" style="height: 58%"></div>
                    <div class="rscore-bar" style="height: 78%"></div>
                </div>
            </div>
        </div>

<div id="screen-onboard" class="screen">
            <div class="onboard-title">ë‚˜ì˜ ìˆ˜í–‰ ì¡°ê±´ ì„¤ì •</div>
            <div class="onboard-sub">ì¥ì•  ë“±ê¸‰ì´ ì•„ë‹Œ, <b>ì‹¤ì œë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒ</b>ì„ ê¸°ì¤€ìœ¼ë¡œ ë§¤ì¹­í•´ë“œë ¤ìš”.</div>

            <div class="question-block">
                <div class="q-label">ğŸ¦µ ì˜¤ë˜ ì„œ ìˆê¸°</div>
                <div class="slider-row">
                    <span style="font-size:0.75rem; color:var(--text-sub);">ì–´ë ¤ì›€</span>
                    <input type="range" id="cond-standing" min="0" max="4" value="1" oninput="this.nextElementSibling.textContent=['ë¶ˆê°€','15ë¶„','30ë¶„','1ì‹œê°„','2ì‹œê°„+'][this.value]">
                    <span class="slider-val">15ë¶„</span>
                    <span style="font-size:0.75rem; color:var(--text-sub);">í¸í•¨</span>
                </div>
            </div>

            <div class="question-block">
                <div class="q-label">ğŸ”Š ì†ŒìŒ ë¯¼ê°ë„</div>
                <div class="option-group" id="cond-noise">
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ë§¤ìš° ë¯¼ê°">ë§¤ìš° ë¯¼ê°</button>
                    <button class="option-btn selected" onclick="toggleOption(this)" data-val="ì•½ê°„ ë¯¼ê°">ì•½ê°„ ë¯¼ê°</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ê´œì°®ìŒ">ê´œì°®ìŒ</button>
                </div>
            </div>

            <div class="question-block">
                <div class="q-label">ğŸ¤ ì„ í˜¸ ì‘ì—… ë°©ì‹</div>
                <div class="option-group" id="cond-work">
                    <button class="option-btn selected" onclick="toggleOption(this)" data-val="í˜¼ì ì‘ì—…">í˜¼ì ì‘ì—…</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ì†Œê·œëª¨ íŒ€">ì†Œê·œëª¨ íŒ€</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ìƒê´€ì—†ìŒ">ìƒê´€ì—†ìŒ</button>
                </div>
            </div>

            <div class="question-block">
                <div class="q-label">ğŸ” ë°˜ë³µ ì—…ë¬´ì— ëŒ€í•œ ì„ í˜¸</div>
                <div class="option-group" id="cond-repeat">
                    <button class="option-btn selected" onclick="toggleOption(this)" data-val="ì„ í˜¸">ì„ í˜¸</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ë³´í†µ">ë³´í†µ</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="ë¹„ì„ í˜¸">ë¹„ì„ í˜¸</button>
                </div>
            </div>

            <div class="question-block">
                <div class="q-label">âœ‹ ì† ì‚¬ìš©</div>
                <div class="option-group" id="cond-hand">
                    <button class="option-btn selected" onclick="toggleOption(this)" data-val="ì–‘ì† ê°€ëŠ¥">ì–‘ì† ê°€ëŠ¥</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="í•œ ì† ê°€ëŠ¥">í•œ ì† ê°€ëŠ¥</button>
                    <button class="option-btn" onclick="toggleOption(this)" data-val="í‚¤ë³´ë“œë§Œ ê°€ëŠ¥">í‚¤ë³´ë“œë§Œ ê°€ëŠ¥</button>
                </div>
            </div>

            <button class="btn-primary" onclick="saveConditionsAndMatch()">ì¡°ê±´ ì €ì¥í•˜ê³  ë§¤ì¹­ ë³´ê¸°</button>
            <button class="btn-secondary" onclick="changeTab('home')">ë‚˜ì¤‘ì— í• ê²Œìš”</button>
        
        </div>
<div id="screen-partner-select" class="screen">
            <div class="onboard-title">ì—°ìŠµ íŒŒíŠ¸ë„ˆ ì„ íƒ</div>
            <div class="onboard-sub">ì˜¤ëŠ˜ì€ ì–´ë–¤ íŒŒíŠ¸ë„ˆì™€ ì—°ìŠµí• ê¹Œìš”?</div>

            <div class="partner-card selected" onclick="selectPartner(this, 'ai')" id="partner-ai">
                <div class="partner-avatar" style="background: linear-gradient(135deg, #818CF8, #4338CA);">ğŸ¤–</div>
                <div class="partner-info">
                    <div class="partner-name">AI ë©´ì ‘ê´€</div>
                    <div class="partner-desc">24ì‹œê°„ ë°˜ë³µ ì—°ìŠµ ê°€ëŠ¥. ì¦‰ê°ì ì¸ í”¼ë“œë°±ì„ ë°›ì•„ìš”.</div>
                    <div class="partner-tags">
                        <span class="partner-tag">ì–¸ì œë“  ê°€ëŠ¥</span>
                        <span class="partner-tag">ë°˜ë³µ ì—°ìŠµ</span>
                    </div>
                </div>
            </div>

            <div class="partner-card" onclick="selectPartner(this, 'mentor')" id="partner-mentor">
                <div class="partner-avatar" style="background: linear-gradient(135deg, #34D399, #059669);">ğŸ§‘â€ğŸ“</div>
                <div class="partner-info">
                    <div class="partner-name">ëŒ€í•™ìƒ ë©˜í† </div>
                    <div class="partner-desc">ì •ì„œì  êµë¥˜ì™€ ì‹¬ì¸µ í”¼ë“œë°±. ì‹¤ì œ ì‚¬ëŒê³¼ ì†Œí†µí•´ìš”.</div>
                    <div class="partner-tags">
                        <span class="partner-tag">ì˜ˆì•½ í•„ìš”</span>
                        <span class="partner-tag">ì‹¬í™” í”¼ë“œë°±</span>
                    </div>
                </div>
            </div>

            <div style="margin-top: 16px;">
                <div class="q-label">ì—°ìŠµ ì‹œë‚˜ë¦¬ì˜¤</div>
                <div class="option-group" id="scenario-group">
                    <button class="option-btn selected" onclick="selectScenario(this, 'intro')">ìê¸°ì†Œê°œ</button>
                    <button class="option-btn" onclick="selectScenario(this, 'interview')">ë©´ì ‘ ì§ˆë¬¸</button>
                    <button class="option-btn" onclick="selectScenario(this, 'smalltalk')">ì§ì¥ ìŠ¤ëª°í† í¬</button>
                    <button class="option-btn" onclick="selectScenario(this, 'phone')">ì „í™” ì‘ëŒ€</button>
                </div>
            </div>

            <button class="btn-primary mt-12" onclick="startPractice()">ì—°ìŠµ ì‹œì‘í•˜ê¸° ğŸ¥</button>
        </div>

        <!-- ========== RE:PLAY - í™”ìƒ ì—°ìŠµ ========== -->
        <div id="screen-practice" class="screen">
            <!-- í™”ìƒ ì˜ì—­: ë‚´ ì›¹ìº ì´ ë©”ì¸, ìƒëŒ€ ì•„ë°”íƒ€ê°€ PIP -->
            <div class="video-container" id="video-container">
                <!-- ë‚´ ì›¹ìº  (ë©”ì¸) -->
                <video id="webcam-video" autoplay playsinline muted style="width:100%; height:100%; object-fit:cover;"></video>
                <!-- ì›¹ìº  ëª» ì“¸ ë•Œ í´ë°± -->
                <div id="webcam-fallback" style="display:none; width:100%; height:100%; background:#1a1a2e; display:none; flex-direction:column; align-items:center; justify-content:center; gap:6px;">
                    <div style="font-size:3rem;">ğŸ™‚</div>
                    <div style="color:rgba(255,255,255,0.6); font-size:0.78rem;">ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ìš”</div>
                </div>
                <!-- ë…¹í™” í‘œì‹œ -->
                <div id="rec-indicator" style="position:absolute; top:12px; left:12px; display:flex; align-items:center; gap:6px; background:rgba(0,0,0,0.5); padding:4px 10px; border-radius:20px;">
                    <div style="width:8px; height:8px; border-radius:50%; background:#EF4444; animation: blink 1s infinite;"></div>
                    <span style="color:white; font-size:0.72rem; font-weight:600;" id="rec-timer">00:00</span>
                </div>
                <!-- ìƒëŒ€ë°© PIP -->
                <div class="partner-pip" id="partner-pip">
                    <div id="pip-avatar" style="font-size:1.6rem;">ğŸ¤–</div>
                    <div id="pip-name" style="font-size:0.58rem; color:rgba(255,255,255,0.7); text-align:center; line-height:1.2;">AI<br>ë©´ì ‘ê´€</div>
                </div>
            </div>

            <!-- í˜„ì¬ ì‹œë‚˜ë¦¬ì˜¤ í‘œì‹œ -->
            <div id="prac-scenario-badge" style="display:inline-block; background:var(--primary-light); color:var(--primary); font-size:0.75rem; font-weight:700; padding:4px 12px; border-radius:20px; margin-bottom:12px;">ğŸ“‹ ìê¸°ì†Œê°œ ì—°ìŠµ</div>

            <!-- í˜„ì¬ ì§ˆë¬¸/ìƒí™© -->
            <div class="card" id="prac-situation" style="border-left: 3px solid var(--primary); margin-bottom: 14px;">
                <div style="font-size:0.75rem; font-weight:700; color:var(--primary); margin-bottom:4px;" id="prac-speaker">AI ë©´ì ‘ê´€ì´ ë§í•˜ê³  ìˆì–´ìš”</div>
                <div style="font-size:0.9rem; color:var(--text-main); line-height:1.5;" id="prac-question">
                    "ì•ˆë…•í•˜ì„¸ìš”, ì˜ì†”ë‹˜. ê°„ë‹¨í•˜ê²Œ ìê¸°ì†Œê°œ ë¶€íƒë“œë ¤ìš”."
                </div>
            </div>

            <div class="video-controls">
                <button class="ctrl-btn on" id="btn-mic" onclick="toggleMic()" title="ë§ˆì´í¬">ğŸ¤</button>
                <button class="ctrl-btn on" id="btn-cam" onclick="toggleCam()" title="ì¹´ë©”ë¼">ğŸ¥</button>
                <button class="ctrl-btn end" onclick="endPractice()" title="ì¢…ë£Œ">ì¢…ë£Œ</button>
            </div>

            <!-- ì‹¤ì‹œê°„ AI í”¼ë“œë°± (ì—°ìŠµ ì¤‘ ìˆœì°¨ì ìœ¼ë¡œ ë‚˜íƒ€ë‚¨) -->
            <div class="live-feedback" id="prac-feedback">
                <div class="live-feedback-title">ğŸ’¡ ì‹¤ì‹œê°„ í”¼ë“œë°±</div>
                <div id="prac-feedback-items"></div>
            </div>

            <!-- ìƒëŒ€ë°© ì¸ìƒ ë¶„ì„ (ì—°ìŠµ ì¤‘ ë‚˜ì¤‘ì— ë‚˜íƒ€ë‚¨) -->
            <div class="impression-box" id="prac-impression" style="display:none;">
                <div class="impression-title">ğŸª ë‚´ ë°œí™”ê°€ ìƒëŒ€ì—ê²Œ ì£¼ëŠ” ì¸ìƒ</div>
                <div class="impression-text" id="prac-impression-text"></div>
            </div>
        </div>

        <!-- ========== ì—°ìŠµ ê²°ê³¼ ========== -->
        <div id="screen-practice-result" class="screen">
            <div class="text-center" style="margin-bottom: 20px;">
                <div style="font-size: 3rem; margin-bottom: 8px;">ğŸ‰</div>
                <div class="onboard-title">ì—°ìŠµ ì™„ë£Œ!</div>
                <div class="onboard-sub" id="result-duration">3ë¶„ 24ì´ˆ ë™ì•ˆ ì—°ìŠµí–ˆì–´ìš”</div>
            </div>

            <div id="result-scenario-badge" style="text-align:center; margin-bottom: 14px;">
                <span style="display:inline-block; background:var(--primary-light); color:var(--primary); font-size:0.78rem; font-weight:700; padding:5px 14px; border-radius:20px;"></span>
            </div>

            <div class="card">
                <div class="card-label" id="result-summary-label">ì¢…í•© í”¼ë“œë°±</div>
                <div style="display:flex; justify-content:space-around; text-align:center; margin: 12px 0;" id="result-stats">
                </div>
            </div>

            <div class="card">
                <div class="card-label">ìƒëŒ€ë°©ì—ê²Œ ì „ë‹¬ëœ ì¸ìƒ</div>
                <div style="font-size:0.85rem; color:var(--text-main); line-height:1.6;" id="result-impression">
                </div>
            </div>

            <div class="card">
                <div class="card-label">ë‹¤ìŒì— ì—°ìŠµí•˜ë©´ ì¢‹ì„ ì‹œë‚˜ë¦¬ì˜¤</div>
                <div style="font-size:0.85rem; color:var(--text-sub); line-height:1.5;" id="result-next">
                </div>
            </div>

            <button class="btn-primary" onclick="changeTab('partner-select')">ë‹¤ì‹œ ì—°ìŠµí•˜ê¸°</button>
            <button class="btn-secondary" onclick="changeTab('home')">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>

        <!-- ========== íƒœìŠ¤í¬ ë§¤ì¹­ ========== -->
        <div id="screen-jobs" class="screen">
            <div style="margin-bottom: 4px;">
                <div class="onboard-title">ë§ì¶¤ íƒœìŠ¤í¬ ì¶”ì²œ</div>
                <div class="onboard-sub">ì˜ì†”ë‹˜ì˜ ìˆ˜í–‰ ì¡°ê±´ì— ë§ëŠ” ì—…ë¬´ë¥¼ ì°¾ì•˜ì–´ìš”.</div>
            </div>
            <div class="condition-tags" id="jobs-tags"></div>
            <div id="jobs-list"></div>
            <div style="text-align:center; margin-top:8px;">
                <button class="btn-secondary" onclick="changeTab('onboard')" style="width:auto; display:inline-block; padding:10px 20px; font-size:0.82rem;">
                    âš™ï¸ ìˆ˜í–‰ ì¡°ê±´ ìˆ˜ì •í•˜ê¸°
                </button>
            </div>
        </div>

    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="nav-bar">
        <div class="nav-item active" onclick="changeTab('home', this)">
            <div class="nav-icon">ğŸ </div><span>í™ˆ</span>
        </div>
        <div class="nav-item" onclick="changeTab('partner-select', this)">
            <div class="nav-icon">ğŸ¥</div><span>RE:PLAY</span>
        </div>
        <div class="nav-item" onclick="goToTab('jobs', this)">
            <div class="nav-icon">ğŸ§©</div><span>íƒœìŠ¤í¬</span>
        </div>
        <div class="nav-item" onclick="changeTab('rscore', this)">
            <div class="nav-icon">âš™ï¸</div><span>R-Score</span>
        </div>
    </div>
</div>

<script>
    let selectedPartner = 'ai', selectedScenario = 'intro';
    let webcamStream = null, timerInterval = null, feedbackTimeouts = [], elapsedSeconds = 0, camOn = true, micOn = true;

    const C = {
        ai: { avatar:'ğŸ¤–', name:'AI ë©´ì ‘ê´€', pipName:'AI<br>ë©´ì ‘ê´€', avatarBg:'linear-gradient(135deg,#818CF8,#4338CA)',
            intro: { badge:'ğŸ“‹ ìê¸°ì†Œê°œ ì—°ìŠµ', speaker:'AI ë©´ì ‘ê´€ì´ ë§í•˜ê³  ìˆì–´ìš”', question:'"ì•ˆë…•í•˜ì„¸ìš”, ì˜ì†”ë‹˜. ê°„ë‹¨í•˜ê²Œ ìê¸°ì†Œê°œ ë¶€íƒë“œë ¤ìš”."',
                feedback:[ {type:'good',label:'ì‹œì„  ì²˜ë¦¬',text:'ì¹´ë©”ë¼ë¥¼ ì˜ ë°”ë¼ë³´ê³  ìˆì–´ìš”',delay:3}, {type:'tip',label:'í‘œí˜„ ì œì•ˆ',text:'"ì»´í“¨í„°ë¥¼ ì˜í•©ë‹ˆë‹¤" â†’ "<b>ë°ì´í„° ì…ë ¥ ì—…ë¬´ì— ìì‹  ìˆìŠµë‹ˆë‹¤</b>"ë¡œ ë°”ê¿”ë³¼ê¹Œìš”?',delay:8}, {type:'good',label:'ë§ ì†ë„',text:'ì ì ˆí•œ ì†ë„ì˜ˆìš”, ì˜í•˜ê³  ìˆì–´ìš”!',delay:14} ],
                impression:'í˜„ì¬ <b>ì¡°ê¸ˆ ê¸´ì¥ëœ</b> ì¸ìƒì´ì—ìš”. <b>ë¯¸ì†Œë¥¼ í•œ ë²ˆ ë”</b> ì§€ì–´ë³´ë©´ í›¨ì”¬ í¸ì•ˆí•´ ë³´ì—¬ìš”.', impressionDelay:18,
                result:{ grade:'B+',gc:'var(--accent)',s1:{v:'3íšŒ',l:'í‘œí˜„ ê°œì„  ì œì•ˆ'},s2:{v:'1ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'<b>ì„±ì‹¤í•˜ê³  ì°¨ë¶„í•œ</b> ì¸ìƒì´ì—ˆì–´ìš”. ë‹µë³€ì´ ì§§ì•„ <b>ìì‹ ê°ì´ ë¶€ì¡±í•´</b> ë³´ì¼ ìˆ˜ ìˆì–´ìš”. êµ¬ì²´ì ì¸ ê²½í—˜ì„ í•œ ë¬¸ì¥ ë” ë„£ì–´ë³´ì„¸ìš”.', next:'ğŸ’¡ "<b>ê²½í—˜ ê¸°ë°˜ ë‹µë³€ ë§í•˜ê¸°</b>" â€” ìê¸°ì†Œê°œì— êµ¬ì²´ì  ê²½í—˜ ë¶™ì´ê¸°' }
            },
            interview: { badge:'ğŸ¯ ë©´ì ‘ ì§ˆë¬¸ ì—°ìŠµ', speaker:'AI ë©´ì ‘ê´€ì´ ì§ˆë¬¸í•˜ê³  ìˆì–´ìš”', question:'"ì§€ì›í•˜ì‹  ì§ë¬´ì—ì„œ ë³¸ì¸ì˜ ê°•ì ì´ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•˜ì‹œë‚˜ìš”?"',
                feedback:[ {type:'tip',label:'êµ¬ì²´ì„±',text:'"ì—´ì‹¬íˆ í•˜ê² ìŠµë‹ˆë‹¤"ë³´ë‹¤ <b>êµ¬ì²´ì  ê²½í—˜ ì‚¬ë¡€</b>ë¥¼ ë“¤ì–´ë³´ì„¸ìš”',delay:4}, {type:'good',label:'ìì„¸',text:'ìƒì²´ë¥¼ ë°”ë¥´ê²Œ ìœ ì§€í•˜ê³  ìˆì–´ìš”',delay:10}, {type:'tip',label:'ë‹µë³€ ê¸¸ì´',text:'30ì´ˆ~1ë¶„ ì‚¬ì´ê°€ ì ì ˆí•´ìš”. ì¡°ê¸ˆ ë” ê¸¸ê²Œ ë‹µë³€í•´ë³¼ê¹Œìš”?',delay:16} ],
                impression:'<b>ë‹µë³€ì´ ë„ˆë¬´ ì§§ì•„</b> ì¤€ë¹„ ë¶€ì¡±ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆì–´ìš”. <b>"ì €ëŠ” ~í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤"</b>ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”.', impressionDelay:20,
                result:{ grade:'B',gc:'var(--warning)',s1:{v:'5íšŒ',l:'í‘œí˜„ ê°œì„  ì œì•ˆ'},s2:{v:'2ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'<b>ì§„ì†”í•˜ê³  ê²¸ì†í•œ</b> ì¸ìƒì´ì—ˆì–´ìš”. ê°•ì ì— <b>ê·¼ê±°</b>ë¥¼ ë”í•´ë³´ì„¸ìš”.', next:'ğŸ’¡ "<b>STAR ê¸°ë²•ìœ¼ë¡œ ë‹µë³€í•˜ê¸°</b>" â€” ìƒí™©-ê³¼ì œ-í–‰ë™-ê²°ê³¼ êµ¬ì¡°' }
            },
            smalltalk: { badge:'â˜• ì§ì¥ ìŠ¤ëª°í† í¬ ì—°ìŠµ', speaker:'AI ë™ë£Œê°€ ë§ì„ ê±¸ì—ˆì–´ìš”', question:'"ì˜ì†”ë‹˜, ì ì‹¬ ë­ ë“œì‹¤ ê±°ì˜ˆìš”? ê°™ì´ ê°ˆë˜ìš”?"',
                feedback:[ {type:'good',label:'ë°˜ì‘ ì†ë„',text:'ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€ë‹µí•˜ê³  ìˆì–´ìš”',delay:3}, {type:'tip',label:'ëŒ€í™” ì´ì–´ê°€ê¸°',text:'<b>"OOë‹˜ì€ìš”?"</b>ì²˜ëŸ¼ ì§ˆë¬¸ì„ ë˜ëŒë ¤ë³´ì„¸ìš”',delay:9}, {type:'tip',label:'í‘œì •',text:'ì‚´ì§ ë¯¸ì†Œë¥¼ ì§€ìœ¼ë©´ ë” ì¹œê·¼í•˜ê²Œ ëŠê»´ì ¸ìš”',delay:15} ],
                impression:'<b>ë‹¤ì†Œ ìˆ˜ë™ì ì¸</b> ì¸ìƒì´ì—ìš”. <b>ë§ì¥êµ¬ë‚˜ ì§ˆë¬¸</b>ì„ ë„£ìœ¼ë©´ í™• ë‹¬ë¼ì ¸ìš”.', impressionDelay:19,
                result:{ grade:'B+',gc:'var(--accent)',s1:{v:'2íšŒ',l:'ëŒ€í™” íŒ¨í„´ ì œì•ˆ'},s2:{v:'1ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'<b>ì¡°ìš©í•˜ì§€ë§Œ í˜¸ê° ê°€ëŠ”</b> ì¸ìƒ. ì§ˆë¬¸ì„ ë˜ì§€ë©´ ë” ë¹¨ë¦¬ ì¹œí•´ì§ˆ ìˆ˜ ìˆì–´ìš”.', next:'ğŸ’¡ "<b>ëŒ€í™” ì£¼ê³ ë°›ê¸° ì—°ìŠµ</b>" â€” ë‹µ + ë˜ë¬»ê¸° íŒ¨í„´' }
            },
            phone: { badge:'ğŸ“ ì „í™” ì‘ëŒ€ ì—°ìŠµ', speaker:'AI ê³ ê°ì´ ì „í™”ë¥¼ ê±¸ì—ˆì–´ìš”', question:'"ì—¬ë³´ì„¸ìš”, ê±°ê¸° OOíŒ€ì´ì£ ? ì§€ë‚œë²ˆ ìš”ì²­í•œ ì„œë¥˜ í™•ì¸ ì¢€ í•˜ë ¤ê³ ìš”."',
                feedback:[ {type:'tip',label:'ì²«ì¸ì‚¬',text:'<b>"OOíŒ€ ì˜ì†”ì…ë‹ˆë‹¤, ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?"</b>ë¡œ ì‹œì‘í•´ë³´ì„¸ìš”',delay:4}, {type:'good',label:'ëª©ì†Œë¦¬ í†¤',text:'ì°¨ë¶„í•˜ê³  ë˜ë ·í•˜ê²Œ ë§í•˜ê³  ìˆì–´ìš”',delay:10}, {type:'tip',label:'ë©”ëª¨ ìŠµê´€',text:'ìƒëŒ€ ì´ë¦„ê³¼ ìš”ì²­ì„ <b>ë°”ë¡œ ë©”ëª¨</b>í•˜ëŠ” ì—°ìŠµì„ í•´ë³´ì„¸ìš”',delay:16} ],
                impression:'<b>ì•½ê°„ ë‹¹í™©í•œ</b> ì¸ìƒì´ì—ìš”. ì „í™”ëŠ” <b>ëª©ì†Œë¦¬ í†¤ê³¼ ëª…í™•í•œ ë¬¸ì¥</b>ì´ ë” ì¤‘ìš”í•´ìš”.', impressionDelay:20,
                result:{ grade:'C+',gc:'var(--warning)',s1:{v:'4íšŒ',l:'í‘œí˜„ ê°œì„  ì œì•ˆ'},s2:{v:'3ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'<b>ê¸´ì¥í–ˆì§€ë§Œ ì˜ˆì˜ ë°”ë¥¸</b> ì¸ìƒ. ì²«ë§ˆë”” íŒ¨í„´ì„ ì™¸ì›Œë‘ë©´ ìì‹ ê°ì´ ì˜¬ë¼ê°€ìš”.', next:'ğŸ’¡ "<b>ì „í™” ì‘ëŒ€ ê¸°ë³¸ íŒ¨í„´</b>" â€” ì¸ì‚¬â†’í™•ì¸â†’ì‘ë‹µâ†’ë§ˆë¬´ë¦¬' }
            }
        },
        mentor: { avatar:'ğŸ§‘â€ğŸ“', name:'ë©˜í†  ì§€ìˆ˜', pipName:'ë©˜í† <br>ì§€ìˆ˜', avatarBg:'linear-gradient(135deg,#34D399,#059669)',
            intro: { badge:'ğŸ“‹ ìê¸°ì†Œê°œ ì—°ìŠµ', speaker:'ë©˜í†  ì§€ìˆ˜ë‹˜ì´ ë§í•˜ê³  ìˆì–´ìš”', question:'"ì˜ì†”ë‹˜, í¸í•˜ê²Œ í•´ìš”~ ì²˜ìŒ ë§Œë‚œ ì‚¬ëŒì—ê²Œ ìê¸°ì†Œê°œí•œë‹¤ê³  ìƒê°í•˜ê³  ë§í•´ë³¼ë˜ìš”?"',
                feedback:[ {type:'good',label:'ë¶„ìœ„ê¸°',text:'ê¸´ì¥ì„ í’€ê³  ìì—°ìŠ¤ëŸ½ê²Œ ì´ì•¼ê¸°í•˜ê³  ìˆì–´ìš”',delay:4}, {type:'tip',label:'ë©˜í†  ì½”ë©˜íŠ¸',text:'"ì·¨ë¯¸ë‚˜ ì¢‹ì•„í•˜ëŠ” ê²ƒë„ ë„£ì–´ë³´ë©´ ê¸°ì–µì— ë‚¨ëŠ” ìê¸°ì†Œê°œê°€ ë¼ìš”"',delay:10}, {type:'good',label:'ëˆˆë§ì¶¤',text:'í™”ë©´ì„ ì˜ ë°”ë¼ë³´ê³  ìˆì–´ìš”, ìì—°ìŠ¤ëŸ¬ì›Œìš”',delay:16} ],
                impression:'ì§€ìˆ˜ ë©˜í† : <b>ì†”ì§í•˜ê³  ê¾¸ë°ˆì—†ëŠ”</b> ëŠë‚Œì´ë¼ í˜¸ê°ì´ ê°€ìš”. ì¢‹ì•„í•˜ëŠ” ê²ƒ í•˜ë‚˜ë§Œ ë” ë„£ìœ¼ë©´ <b>ê¸°ì–µì— ë‚¨ì„</b> ê±°ì˜ˆìš”.', impressionDelay:20,
                result:{ grade:'A-',gc:'var(--accent)',s1:{v:'2íšŒ',l:'ë©˜í†  ì½”ë©˜íŠ¸'},s2:{v:'0ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'ë©˜í†  ì§€ìˆ˜: "ì˜ì†”ë‹˜ ë§ ì˜í•˜ì‹œë„¤ìš”! <b>í¸ì•ˆí•˜ê³  ì§„ì†”í•œ</b> ëŠë‚Œì´ ì¢‹ì•˜ì–´ìš”. ì·¨ë¯¸ ì´ì•¼ê¸°ë„ ë„£ì–´ë´ìš”!"', next:'ğŸ’¡ "<b>ì·¨ë¯¸Â·ê´€ì‹¬ì‚¬ ë¶™ì—¬ ì†Œê°œí•˜ê¸°</b>" â€” ë‚˜ë§Œì˜ ì´ì•¼ê¸°ë¡œ ê¸°ì–µì— ë‚¨ëŠ” ìê¸°ì†Œê°œ' }
            },
            interview: { badge:'ğŸ¯ ë©´ì ‘ ì§ˆë¬¸ ì—°ìŠµ', speaker:'ë©˜í†  ì§€ìˆ˜ë‹˜ì´ ë©´ì ‘ê´€ ì—­í• ì„ í•˜ê³  ìˆì–´ìš”', question:'"ì, ì œê°€ ë©´ì ‘ê´€ì´ì—ìš”~ ì˜ì†”ë‹˜ì´ ì´ ì¼ì— ì§€ì›í•œ ì´ìœ ê°€ ë­ì˜ˆìš”?"',
                feedback:[ {type:'good',label:'ì§„ì •ì„±',text:'ë³¸ì¸ì˜ ì´ì•¼ê¸°ë¥¼ ì†”ì§í•˜ê²Œ ì „ë‹¬í•˜ê³  ìˆì–´ìš”',delay:5}, {type:'tip',label:'ë©˜í†  ì½”ë©˜íŠ¸',text:'"\'ê·¸ë˜ì„œ ì´ íšŒì‚¬ì—ì„œ ~í•˜ê³  ì‹¶ë‹¤\'ë¡œ ì—°ê²°í•˜ë©´ ì™„ë²½í•´ìš”"',delay:11}, {type:'tip',label:'êµ¬ì¡° ì œì•ˆ',text:'ë©˜í† ê°€ STAR ê¸°ë²•ì„ í•¨ê»˜ ì—°ìŠµí•´ì¤„ê²Œìš”',delay:17} ],
                impression:'ì§€ìˆ˜ ë©˜í† : <b>ì§„ì‹¬ì´ ëŠê»´ì ¸ì„œ</b> ì¢‹ì•˜ì–´ìš”. <b>íšŒì‚¬ì™€ ì—°ê²° ì§“ëŠ” ë§ˆë¬´ë¦¬</b>ê°€ ìˆìœ¼ë©´ ë” ì„¤ë“ë ¥ ìˆì–´ìš”.', impressionDelay:21,
                result:{ grade:'B+',gc:'var(--accent)',s1:{v:'3íšŒ',l:'ë©˜í†  ì½”ë©˜íŠ¸'},s2:{v:'1ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'ë©˜í†  ì§€ìˆ˜: "ì†”ì§í•œ ë‹µë³€ì´ ì¸ìƒì ! <b>ì§€ì› ë™ê¸° ì—°ê²°</b> ì—°ìŠµë§Œ ë” í•˜ë©´ ê±°ì˜ ë‹¤ ëì–´ìš”!"', next:'ğŸ’¡ "<b>ì§€ì› ë™ê¸° ì—°ê²°ì§“ê¸°</b>" â€” ê²½í—˜ì„ íšŒì‚¬Â·ì§ë¬´ì™€ ì´ì–´ ë§í•˜ê¸°' }
            },
            smalltalk: { badge:'â˜• ì§ì¥ ìŠ¤ëª°í† í¬ ì—°ìŠµ', speaker:'ë©˜í†  ì§€ìˆ˜ë‹˜ì´ ë™ë£Œ ì—­í• ì„ í•˜ê³  ìˆì–´ìš”', question:'"ì˜ì†”ë‹˜~ ì € ìƒˆë¡œ ì˜¨ ì§€ìˆ˜ì˜ˆìš”. ìš”ì¦˜ ë­ ì¬ë°ŒëŠ” ê±° ìˆì–´ìš”?"',
                feedback:[ {type:'good',label:'ìì—°ìŠ¤ëŸ¬ì›€',text:'ëŒ€í™” íë¦„ì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”!',delay:4}, {type:'tip',label:'ë©˜í†  ì½”ë©˜íŠ¸',text:'"í•œ ë‹¨ì–´ë¡œ ëë‚´ì§€ ë§ê³ , ì´ìœ ë¥¼ ë¶™ì—¬ë³´ë©´ ëŒ€í™”ê°€ ê¸¸ì–´ì ¸ìš”"',delay:10}, {type:'good',label:'ë¦¬ì•¡ì…˜',text:'ê³ ê°œ ë„ë•ì„ì´ ì¢‹ì•„ìš”, ìƒëŒ€ê°€ í¸ì•ˆí•´í•´ìš”',delay:16} ],
                impression:'ì§€ìˆ˜ ë©˜í† : <b>ë¦¬ì•¡ì…˜ì´ ì¢‹ì•„ì„œ</b> ëŒ€í™”í•˜ê³  ì‹¶ì€ ëŠë‚Œ! <b>í•œ ë¬¸ì¥ë§Œ ë”</b> ë¶™ì´ë©´ ê¸ˆë°© ì¹œí•´ì ¸ìš”.', impressionDelay:20,
                result:{ grade:'A-',gc:'var(--accent)',s1:{v:'2íšŒ',l:'ë©˜í†  ì½”ë©˜íŠ¸'},s2:{v:'0ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'ë©˜í†  ì§€ìˆ˜: "ë¦¬ì•¡ì…˜ ì§„ì§œ ì¢‹ì•„ìš”! <b>í¸ì•ˆí•œ ëŒ€í™” ìƒëŒ€</b>ë¼ëŠ” ëŠë‚Œì´ì—ìš” ğŸ’ª"', next:'ğŸ’¡ "<b>ê´€ì‹¬ì‚¬ ê³µìœ í•˜ê¸°</b>" â€” ì¢‹ì•„í•˜ëŠ” ê²ƒ 2~3ë¬¸ì¥ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ê¸°' }
            },
            phone: { badge:'ğŸ“ ì „í™” ì‘ëŒ€ ì—°ìŠµ', speaker:'ë©˜í†  ì§€ìˆ˜ë‹˜ì´ ì „í™” ê±´ ê³ ê° ì—­í• ì„ í•˜ê³  ìˆì–´ìš”', question:'"ì—¬ë³´ì„¸ìš”~ ì œê°€ ê³ ê° ì—­í•  í• ê²Œìš”. ì¤€ë¹„ëì–´ìš”? â€¦ì—¬ë³´ì„¸ìš”, ì„œë¹„ìŠ¤íŒ€ì´ì£ ?"',
                feedback:[ {type:'tip',label:'ë©˜í†  ì½”ë©˜íŠ¸',text:'"ì²«ë§ˆë””ê°€ ì¤‘ìš”í•´ìš”! \'ì„œë¹„ìŠ¤íŒ€ ì˜ì†”ì…ë‹ˆë‹¤\'ë¡œ ì‹œì‘í•´ë´ìš”"',delay:4}, {type:'good',label:'ëª©ì†Œë¦¬',text:'ë˜ë ·í•˜ê²Œ ë§í•˜ê³  ìˆì–´ìš”, ì „í™”ë¡œ ë“£ê¸° í¸í•œ í†¤ì´ì—ìš”',delay:10}, {type:'tip',label:'ì—°ìŠµ í¬ì¸íŠ¸',text:'ë‹¤ì–‘í•œ ìƒí™©(ë¬¸ì˜, ë¶ˆë§Œ, ìš”ì²­)ì„ ë²ˆê°ˆì•„ ì—°ìŠµí•´ë³¼ê²Œìš”',delay:16} ],
                impression:'ì§€ìˆ˜ ë©˜í† : ì²˜ìŒì´ë¼ ë‹¹í™©í•˜ëŠ” ê±´ ë‹¹ì—°! <b>ê¸°ë³¸ ì¸ì‚¬ íŒ¨í„´ë§Œ ì™¸ìš°ë©´</b> ë‚˜ë¨¸ì§€ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ ë”°ë¼ì™€ìš”.', impressionDelay:20,
                result:{ grade:'B-',gc:'var(--warning)',s1:{v:'4íšŒ',l:'ë©˜í†  ì½”ë©˜íŠ¸'},s2:{v:'2ê°œ',l:'ë³´ì™„ í¬ì¸íŠ¸'}, imp:'ë©˜í†  ì§€ìˆ˜: "ì²˜ìŒ ì¹˜ê³  ì˜í–ˆì–´ìš”! <b>2~3ë²ˆë§Œ ë” ë°˜ë³µ</b>í•˜ë©´ ìì‹ ê° í™• ë¶™ì–´ìš”!"', next:'ğŸ’¡ "<b>ì „í™” ì‘ëŒ€ ë¡¤í”Œë ˆì´ ì‹¬í™”</b>" â€” ë¶ˆë§Œ ê³ ê°, ì „ë‹¬ ìš”ì²­ ë“±' }
            }
        }
    };

    // ========== ì›¹ìº  ==========
    async function startWebcam() {
        const video = document.getElementById('webcam-video'), fallback = document.getElementById('webcam-fallback');
        try {
            webcamStream = await navigator.mediaDevices.getUserMedia({ video: { facingMode:'user', width:{ideal:640}, height:{ideal:480} }, audio: true });
            video.srcObject = webcamStream; video.style.display = 'block'; fallback.style.display = 'none';
            camOn = true; micOn = true;
        } catch(e) {
            video.style.display = 'none'; fallback.style.display = 'flex'; camOn = false; micOn = false;
        }
        syncBtns();
    }
    function stopWebcam() { if(webcamStream){webcamStream.getTracks().forEach(t=>t.stop());webcamStream=null;} const v=document.getElementById('webcam-video');if(v)v.srcObject=null; }
    function toggleMic() { if(!webcamStream)return; const t=webcamStream.getAudioTracks()[0]; if(t){micOn=!micOn;t.enabled=micOn;syncBtns();} }
    function toggleCam() { if(!webcamStream)return; const t=webcamStream.getVideoTracks()[0]; if(t){camOn=!camOn;t.enabled=camOn;syncBtns();} }
    function syncBtns() {
        const bm=document.getElementById('btn-mic'),bc=document.getElementById('btn-cam');
        bm.className='ctrl-btn '+(micOn?'on':'off'); bm.textContent=micOn?'ğŸ¤':'ğŸ”‡';
        bc.className='ctrl-btn '+(camOn?'on':'off'); bc.textContent=camOn?'ğŸ¥':'ğŸ“·';
    }

    // ========== íƒ€ì´ë¨¸ ==========
    function startTimer() { elapsedSeconds=0; updateTimer(); timerInterval=setInterval(()=>{elapsedSeconds++;updateTimer();},1000); }
    function stopTimer() { clearInterval(timerInterval); timerInterval=null; }
    function updateTimer() { const m=String(Math.floor(elapsedSeconds/60)).padStart(2,'0'),s=String(elapsedSeconds%60).padStart(2,'0'); document.getElementById('rec-timer').textContent=m+':'+s; }
    function fmtDur(t) { const m=Math.floor(t/60),s=t%60; return m?m+'ë¶„ '+s+'ì´ˆ ë™ì•ˆ ì—°ìŠµí–ˆì–´ìš”':s+'ì´ˆ ë™ì•ˆ ì—°ìŠµí–ˆì–´ìš”'; }

    // ========== ìˆœì°¨ í”¼ë“œë°± ==========
    function scheduleFB(sc) {
        const el=document.getElementById('prac-feedback-items');
        el.innerHTML='<div style="font-size:0.82rem;color:var(--text-sub);padding:8px 0;">ì¹´ë©”ë¼ë¥¼ ë³´ë©° ë§í•´ë³´ì„¸ìš”. ê³§ í”¼ë“œë°±ì´ í‘œì‹œë©ë‹ˆë‹¤...</div>';
        document.getElementById('prac-impression').style.display='none';
        sc.feedback.forEach((f,i)=>{
            feedbackTimeouts.push(setTimeout(()=>{
                if(i===0)el.innerHTML='';
                const d=document.createElement('div'); d.className='feedback-item'; d.style.animation='fadeIn 0.3s ease';
                d.innerHTML=`<span class="${f.type==='good'?'fb-good':'fb-tip'}">${f.type==='good'?'âœ…':'ğŸ’¬'} ${f.label}</span> â€” ${f.text}`;
                el.appendChild(d); document.querySelector('.content').scrollTop=99999;
            },f.delay*1000));
        });
        feedbackTimeouts.push(setTimeout(()=>{
            const b=document.getElementById('prac-impression'); b.style.display='block'; b.style.animation='fadeIn 0.3s ease';
            document.getElementById('prac-impression-text').innerHTML=sc.impression;
            document.querySelector('.content').scrollTop=99999;
        },sc.impressionDelay*1000));
    }
    function clearFB(){feedbackTimeouts.forEach(t=>clearTimeout(t));feedbackTimeouts=[];}

    // ========== ì„ íƒ ==========
    function selectPartner(card,type){selectedPartner=type;document.querySelectorAll('.partner-card').forEach(c=>c.classList.remove('selected'));card.classList.add('selected');}
    function selectScenario(btn,sc){selectedScenario=sc;document.getElementById('scenario-group').querySelectorAll('.option-btn').forEach(b=>b.classList.remove('selected'));btn.classList.add('selected');}

    // ========== ì—°ìŠµ ì‹œì‘ ==========
    async function startPractice(){
        const p=C[selectedPartner], sc=p[selectedScenario];
        document.getElementById('pip-avatar').textContent=p.avatar;
        document.getElementById('pip-name').innerHTML=p.pipName;
        document.querySelector('.partner-pip').style.background=p.avatarBg;
        document.getElementById('prac-scenario-badge').textContent=sc.badge;
        document.getElementById('prac-speaker').textContent=sc.speaker;
        document.getElementById('prac-question').textContent=sc.question;
        const sit=document.getElementById('prac-situation');
        if(selectedPartner==='mentor'){sit.style.borderLeftColor='#059669';document.getElementById('prac-speaker').style.color='#059669';}
        else{sit.style.borderLeftColor='var(--primary)';document.getElementById('prac-speaker').style.color='var(--primary)';}
        changeTab('practice'); await startWebcam(); startTimer(); scheduleFB(sc);
    }

    // ========== ì—°ìŠµ ì¢…ë£Œ ==========
    function endPractice(){
        stopWebcam();stopTimer();clearFB();
        const p=C[selectedPartner],sc=p[selectedScenario],r=sc.result;
        document.getElementById('result-duration').textContent=fmtDur(elapsedSeconds);
        document.querySelector('#result-scenario-badge span').textContent=sc.badge+(selectedPartner==='mentor'?' Â· ë©˜í†  ì§€ìˆ˜':' Â· AI ë©´ì ‘ê´€');
        document.getElementById('result-stats').innerHTML=`
            <div><div style="font-size:1.5rem;font-weight:900;color:${r.gc};">${r.grade}</div><div style="font-size:0.72rem;color:var(--text-sub);">ì¢…í•© ë“±ê¸‰</div></div>
            <div><div style="font-size:1.5rem;font-weight:900;color:var(--primary);">${r.s1.v}</div><div style="font-size:0.72rem;color:var(--text-sub);">${r.s1.l}</div></div>
            <div><div style="font-size:1.5rem;font-weight:900;color:var(--warning);">${r.s2.v}</div><div style="font-size:0.72rem;color:var(--text-sub);">${r.s2.l}</div></div>`;
        document.getElementById('result-impression').innerHTML=r.imp;
        document.getElementById('result-next').innerHTML=r.next;
        changeTab('practice-result');
    }

    // ========== íƒ­ ì „í™˜ ==========
    function changeTab(tabName,navEl){
        if(document.getElementById('screen-practice').classList.contains('active')&&tabName!=='practice'){stopWebcam();stopTimer();clearFB();}
        document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
        const t=document.getElementById('screen-'+tabName);if(t)t.classList.add('active');
        const m={'home':0,'partner-select':1,'practice':1,'practice-result':1,'jobs':2,'onboard':3 ,'rscore':3};
        document.querySelectorAll('.nav-item').forEach((n,i)=>n.classList.toggle('active',i===m[tabName]));
        document.querySelector('.content').scrollTop=0;
    }
    // ========== íƒœìŠ¤í¬ ë§¤ì¹­ ì—”ì§„ ==========
    const STANDING = ['ë¶ˆê°€','15ë¶„','30ë¶„','1ì‹œê°„','2ì‹œê°„+'];
    function getSelected(groupId) { const s = document.querySelector('#'+groupId+' .selected'); return s ? s.getAttribute('data-val') : ''; }
    function getConds() {
        return {
            standing: parseInt(document.getElementById('cond-standing').value),
            noise: getSelected('cond-noise'),
            work: getSelected('cond-work'),
            repeat: getSelected('cond-repeat'),
            hand: getSelected('cond-hand')
        };
    }

    // íƒœìŠ¤í¬ DB: ê° íƒœìŠ¤í¬ì— ìš”êµ¬ ì¡°ê±´ì„ íƒœê¹…
    const JOBS = [
        { name:'ë„ì„œ ë°ì´í„° ë¼ë²¨ë§', company:'(ì£¼)í“¨ì²˜ë°ì´í„°', info:'ì¬íƒ Â· ì›” 120ë§Œì›', original:'ë°ì´í„° ë¼ë²¨ë§ ë§¤ë‹ˆì €',
          tasks:[
            { text:'ì´ë¯¸ì§€ ë‚´ í…ìŠ¤íŠ¸ ë¶„ë¥˜', tags:'í˜¼ìÂ·ë°˜ë³µ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'ë¼ë²¨ íƒœê·¸ ì…ë ¥', tags:'í‚¤ë³´ë“œÂ·ì •ì ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'ê²°ê³¼ ê²€ìˆ˜í‘œ ì‘ì„±', tags:'ì–‘ì†Â·ì§‘ì¤‘', reqStanding:0, reqNoise:'quiet', reqWork:'í˜¼ì', reqRepeat:'ë³´í†µ', reqHand:'ì–‘ì†' }
          ]},
        { name:'ìš°í¸ë¬¼ ë¶„ë¥˜ ë° ì •ë¦¬', company:'OOì‹œì²­ Aì§€ì‚¬', info:'ì‹œê°„ì œ Â· ì‹œê¸‰ 11,000ì›', original:'ìš°í¸ë¬¼ ê´€ë¦¬ ì‚¬ë¬´ì›',
          tasks:[
            { text:'ìš°í¸ë¬¼ ë°”ì½”ë“œ ìŠ¤ìº”', tags:'ë°˜ë³µÂ·ë‹¨ìˆœ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í•œì†' },
            { text:'ë¶€ì„œë³„ ë¶„ë¥˜', tags:'í˜¼ìÂ·ì •ì ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í•œì†' },
            { text:'ìš°í¸ë¬¼ ìš´ë°˜', tags:'ì„œê¸° í•„ìš”', reqStanding:2, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ë³´í†µ', reqHand:'ì–‘ì†' }
          ]},
        { name:'SNS ì½˜í…ì¸  ì´ë¯¸ì§€ íƒœê¹…', company:'(ì£¼)ì†Œì…œë©', info:'ì¬íƒ Â· ê±´ë‹¹ 800ì›', original:'SNS ë§ˆì¼€íŒ… ì–´ì‹œìŠ¤í„´íŠ¸',
          tasks:[
            { text:'ì´ë¯¸ì§€ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜', tags:'ë°˜ë³µÂ·ì‹œê°', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'í•´ì‹œíƒœê·¸ ì‘ì„±', tags:'ì°½ì˜Â·íƒ€ì´í•‘', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ë¹„ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'íŒ€ ìŠ¬ë™ ë³´ê³ ', tags:'ì†Œí†µÂ·íŒ€', reqStanding:0, reqNoise:'any', reqWork:'íŒ€', reqRepeat:'ë³´í†µ', reqHand:'í‚¤ë³´ë“œ' }
          ]},
        { name:'ë„ì„œê´€ ì„œê°€ ì •ë¦¬', company:'OOëŒ€í•™êµ ì¤‘ì•™ë„ì„œê´€', info:'ì‹œê°„ì œ Â· ì‹œê¸‰ 10,500ì›', original:'ë„ì„œê´€ ì‚¬ì„œ ë³´ì¡°',
          tasks:[
            { text:'ë°˜ë‚© ë„ì„œ ë¶„ë¥˜', tags:'ë°˜ë³µÂ·ë‹¨ìˆœ', reqStanding:1, reqNoise:'quiet', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'ì„œê°€ ë°°ì—´ ì •ë¦¬', tags:'ì´ë™Â·ì–‘ì†', reqStanding:3, reqNoise:'quiet', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'íŒŒì† ë„ì„œ ê¸°ë¡', tags:'í‚¤ë³´ë“œÂ·ì •ì ', reqStanding:0, reqNoise:'quiet', reqWork:'í˜¼ì', reqRepeat:'ë³´í†µ', reqHand:'í‚¤ë³´ë“œ' }
          ]},
        { name:'ì¹´í˜ ìŒë£Œ ì œì¡° ë³´ì¡°', company:'OOë³µì§€ì¬ë‹¨ ì¹´í˜', info:'ì£¼ 3ì¼ Â· ì‹œê¸‰ 11,000ì›', original:'ë°”ë¦¬ìŠ¤íƒ€',
          tasks:[
            { text:'ì»µÂ·ì¬ë£Œ ì¤€ë¹„ ì„¸íŒ…', tags:'ë°˜ë³µÂ·ì–‘ì†', reqStanding:2, reqNoise:'any', reqWork:'íŒ€', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'ìŒë£Œ ì œì¡° (ë ˆì‹œí”¼ ë”°ë¼)', tags:'ë°˜ë³µÂ·ì„œê¸°', reqStanding:3, reqNoise:'any', reqWork:'íŒ€', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'ì£¼ë¬¸ í™•ì¸Â·ì „ë‹¬', tags:'ì†Œí†µÂ·ì„œê¸°', reqStanding:2, reqNoise:'any', reqWork:'íŒ€', reqRepeat:'ë³´í†µ', reqHand:'í•œì†' }
          ]},
        { name:'ì˜ë¥˜ ê²€ìˆ˜ ë° í¬ì¥', company:'(ì£¼)íŒ¨ì…˜ë¡œì§', info:'ì£¼ 5ì¼ Â· ì›” 140ë§Œì›', original:'ë¬¼ë¥˜ ê²€ìˆ˜ì›',
          tasks:[
            { text:'ì˜ë¥˜ ì™¸ê´€ ê²€ìˆ˜', tags:'ë°˜ë³µÂ·ì‹œê°', reqStanding:1, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'íƒ ë¶€ì°© ë° í¬ì¥', tags:'ë°˜ë³µÂ·ì–‘ì†', reqStanding:1, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'ë°•ìŠ¤ ì ì¬ ë° ìš´ë°˜', tags:'í˜Â·ì„œê¸°', reqStanding:3, reqNoise:'any', reqWork:'íŒ€', reqRepeat:'ë³´í†µ', reqHand:'ì–‘ì†' }
          ]},
        { name:'ê³ ê° ë¬¸ì˜ ì±„íŒ… ì‘ëŒ€', company:'(ì£¼)í—¬í”„ë°ìŠ¤í¬ì½”ë¦¬ì•„', info:'ì¬íƒ Â· ì›” 130ë§Œì›', original:'ê³ ê°ì„¼í„° ìƒë‹´ì›',
          tasks:[
            { text:'ì±„íŒ… ë¬¸ì˜ ë‹µë³€ (í…œí”Œë¦¿)', tags:'íƒ€ì´í•‘Â·ë°˜ë³µ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'ë¬¸ì˜ ìœ í˜• ë¶„ë¥˜Â·ê¸°ë¡', tags:'ë¶„ë¥˜Â·ë°˜ë³µ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' },
            { text:'ì „í™” ì½œë°± ì•ˆë‚´', tags:'ì†Œí†µÂ·ì „í™”', reqStanding:0, reqNoise:'quiet', reqWork:'íŒ€', reqRepeat:'ë¹„ì„ í˜¸', reqHand:'í‚¤ë³´ë“œ' }
          ]},
        { name:'ì‹¤ë‚´ í™”ë¶„ ê´€ë¦¬', company:'OOêµ¬ì²­ ì‹œì„¤ê´€ë¦¬ê³¼', info:'ì£¼ 3ì¼ Â· ì‹œê¸‰ 10,500ì›', original:'ì‹œì„¤ ê´€ë¦¬ ë³´ì¡°',
          tasks:[
            { text:'í™”ë¶„ ë¬¼ì£¼ê¸°', tags:'ì´ë™Â·ë°˜ë³µ', reqStanding:2, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ì„ í˜¸', reqHand:'ì–‘ì†' },
            { text:'ì ì •ë¦¬Â·ë¶„ê°ˆì´ ë³´ì¡°', tags:'ì–‘ì†Â·ì§‘ì¤‘', reqStanding:1, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ë³´í†µ', reqHand:'ì–‘ì†' },
            { text:'ê´€ë¦¬ ì¼ì§€ ì‘ì„±', tags:'í‚¤ë³´ë“œÂ·ì •ì ', reqStanding:0, reqNoise:'any', reqWork:'í˜¼ì', reqRepeat:'ë³´í†µ', reqHand:'í‚¤ë³´ë“œ' }
          ]}
    ];

    function matchTask(task, conds) {
        let ok = true, warnings = [];
        // ì„œê¸° ì²´í¬
        if (task.reqStanding > conds.standing) { ok = false; warnings.push('ì„œê¸° '+STANDING[task.reqStanding]+' í•„ìš”'); }
        // ì†ŒìŒ ì²´í¬
        if (task.reqNoise === 'quiet' && conds.noise === 'ë§¤ìš° ë¯¼ê°') { /* quiet job = good for sensitive */ }
        // ì‘ì—…ë°©ì‹ ì²´í¬
        if (conds.work === 'í˜¼ì ì‘ì—…' && task.reqWork === 'íŒ€') { ok = false; warnings.push('íŒ€ í˜‘ì—… í•„ìš”'); }
        // ë°˜ë³µ ì²´í¬
        if (conds.repeat === 'ë¹„ì„ í˜¸' && task.reqRepeat === 'ì„ í˜¸') { ok = false; warnings.push('ë°˜ë³µ ì—…ë¬´'); }
        if (conds.repeat === 'ì„ í˜¸' && task.reqRepeat === 'ë¹„ì„ í˜¸') { ok = false; warnings.push('ë¹„ì •í˜• ì—…ë¬´'); }
        // ì† ì‚¬ìš© ì²´í¬
        if (conds.hand === 'í‚¤ë³´ë“œë§Œ ê°€ëŠ¥' && (task.reqHand === 'ì–‘ì†' || task.reqHand === 'í•œì†')) { ok = false; warnings.push(task.reqHand+' ì‚¬ìš© í•„ìš”'); }
        if (conds.hand === 'í•œ ì† ê°€ëŠ¥' && task.reqHand === 'ì–‘ì†') { ok = false; warnings.push('ì–‘ì† ì‚¬ìš© í•„ìš”'); }
        return { ok, warnings };
    }

    function renderJobs(conds) {
        // íƒœê·¸ í‘œì‹œ
        const tagsEl = document.getElementById('jobs-tags');
        const standLabel = STANDING[conds.standing];
        tagsEl.innerHTML = [
            '#ì„œê¸° '+standLabel, '#ì†ŒìŒ '+conds.noise, '#'+conds.work, '#ë°˜ë³µ '+conds.repeat, '#'+conds.hand
        ].map(t => '<span class="tag">'+t+'</span>').join('');

        // ê° ì§ë¬´ë³„ ë§¤ì¹­ ê³„ì‚°
        const results = JOBS.map(job => {
            let matched = 0, total = job.tasks.length, taskResults = [];
            job.tasks.forEach(task => {
                const r = matchTask(task, conds);
                if (r.ok) matched++;
                taskResults.push({ ...task, ...r });
            });
            const pct = Math.round((matched / total) * 100);
            return { ...job, matched, total, pct, taskResults };
        });

        // ë§¤ì¹­ë¥  ë†’ì€ ìˆœ ì •ë ¬
        results.sort((a, b) => b.pct - a.pct);

        // ë§¤ì¹­ë¥  0%ì¸ ê±´ ì œì™¸í•˜ê³  ìƒìœ„ 4ê°œë§Œ
        const filtered = results.filter(r => r.pct > 0).slice(0, 4);

        const listEl = document.getElementById('jobs-list');
        if (filtered.length === 0) {
            listEl.innerHTML = '<div class="card" style="text-align:center;color:var(--text-sub);padding:30px;">í˜„ì¬ ì¡°ê±´ì— ë§ëŠ” íƒœìŠ¤í¬ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ì¡°ê±´ì„ ìˆ˜ì •í•´ë³´ì„¸ìš”.</div>';
            return;
        }

        listEl.innerHTML = filtered.map(job => {
            const badgeClass = job.pct >= 90 ? 'match-high' : 'match-mid';
            const tasksHtml = job.taskResults.map(t => {
                if (t.ok) return `<div class="task-item"><span class="task-check">âœ…</span> ${t.text} (${t.tags})</div>`;
                return `<div class="task-item"><span class="task-warn">âš ï¸</span> ${t.text} <span style="color:var(--warning);font-size:0.75rem;">(${t.warnings.join(', ')})</span></div>`;
            }).join('');
            return `
                <div class="job-card">
                    <div class="match-badge ${badgeClass}">${job.pct}% ì¼ì¹˜</div>
                    <div class="job-name">${job.name}</div>
                    <div class="job-company">${job.company} Â· ${job.info}</div>
                    <div class="task-decompose">
                        <div class="task-decompose-title">ğŸ“‹ íƒœìŠ¤í¬ ë¶„í•´ ë‚´ì—­</div>
                        ${tasksHtml}
                    </div>
                    <div class="original-job">
                        ğŸ” ì›ë˜ ì§ë¬´: <b>${job.original}</b> â†’ ${job.total}ê°œ íƒœìŠ¤í¬ ì¤‘ ${job.matched}ê°œ ë§¤ì¹­ë¨
                    </div>
                </div>`;
        }).join('');
    }

    function saveConditionsAndMatch() {
        renderJobs(getConds());
        goToTab('jobs');
    }

    function toggleOption(btn){
        btn.parentElement.querySelectorAll('.option-btn').forEach(b=>b.classList.remove('selected'));
        btn.classList.add('selected');
    }

    // changeTabì„ goToTabìœ¼ë¡œ ë˜í•‘í•˜ì—¬ jobs ì§„ì… ì‹œ ìë™ ë Œë”ë§
    function goToTab(tabName, navEl) {
        if (tabName === 'jobs') renderJobs(getConds());
        changeTab(tabName, navEl);
    }
</script>

</body>
</html>
